(function(){"use strict";var e={7116:function(e,t,s){var r=s(8935),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"fhir-visualizer"}},[s("main-component")],1)},o=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"main"},[e.selectedResourceType&&!e.selectedResource?s("div",{staticClass:"bg-white w-100 min-vh-100",staticStyle:{"z-index":"100"}},[s("div",{staticClass:"container text-center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"pb-3 col-xl-6 m-auto"},[s("div",{staticClass:"p-3 border rounded-3 bg-light"},[s("h3",[s("a",{staticClass:"text-decoration-none text-success",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.closeResourceType.apply(null,arguments)}}},[e._v(" Patient/"+e._s(e.patient.id))]),e._v(" → "+e._s(e.selectedResourceType)+" ")])]),e._l(e.selectedResourceTypeData,(function(t,r){return s("div",{key:r},[s("a",{staticClass:"text-decoration-none text-black",attrs:{href:""},on:{click:function(s){return s.preventDefault(),e.expandResource(t)}}},[s("div",{staticClass:"mt-2 p-3 border rounded-3 bg-light small"},[s("div",[s("b",[e._v(e._s(t.resource.resourceType)+"/"+e._s(t.resource.id))])]),s("div",[e._v("Updated on: "+e._s(t.resource.meta.lastUpdated))])])])])}))],2)])])]):e._e(),e.selectedResource?s("div",{staticClass:"bg-white w-100 min-vh-100",staticStyle:{"z-index":"200"}},[s("div",{staticClass:"container text-center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"pb-3 col-xl-6 m-auto small"},[s("div",{staticClass:"p-3 border rounded-3 bg-light"},[s("h3",[s("a",{staticClass:"text-decoration-none text-success",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.closeResourceType.apply(null,arguments)}}},[e._v(" Patient/"+e._s(e.patient.id))]),e._v(" → "),s("a",{staticClass:"text-decoration-none text-success",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.expandResourceType(e.selectedResource.resource.resourceType)}}},[e._v(" "+e._s(e.selectedResource.resource.resourceType)+" ")]),e._v(" → "+e._s(e.selectedResource.resource.resourceType)+"/"+e._s(e.selectedResource.resource.id)+" ")])]),s("div",{staticClass:"mt-2 p-3 border bg-light"},e._l(e.selectedResource.resource,(function(e,t){return s("div",{key:t,staticClass:"text-start"},[s("node-tree",{attrs:{name:t,node:e}})],1)})),0)])])])]):e._e(),e.selectedResourceType||e.selectedResource?e._e():s("div",{staticClass:"container text-center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"pb-3 col-xl-6 m-auto"},[this.patient?s("div",{staticClass:"p-3 border rounded-3 bg-light"},[s("h3",[e._v("Patient/"+e._s(e.patient.id))])]):s("div",{staticClass:"p-3"},[e._v("Loading...")]),e._l(e.resourceTypes,(function(t,r){return s("div",{key:r},[s("a",{staticClass:"text-black",attrs:{href:""},on:{click:function(s){return s.preventDefault(),e.expandResourceType(t)}}},[s("div",{staticClass:"mt-2 p-3 border rounded-3 bg-light"},[s("b",[e._v(e._s(t))])])])])}))],2)])])])},c=[],a=(s(6699),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-2"},[e.isFolder?s("div",[s("a",{staticClass:"fw-bold text-decoration-none text-black",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggle.apply(null,arguments)}}},[e._v(" "+e._s(e.name)+" "),s("span",[e._v("["+e._s(e.isOpen?"-":"+")+"]")])]),e.isOpen?s("div",{staticClass:"ms-3 mt-2"},e._l(e.node,(function(e,t){return s("div",{key:t},[s("node-tree",{attrs:{name:"Item #"+(t+1),node:e}})],1)})),0):e._e()]):s("div",["object"===typeof e.node?s("div",[s("div",[s("div",{staticClass:"mb-2"},[s("b",[e._v(e._s(e.name))])]),e._l(e.node,(function(e,t){return s("node-tree",{key:t,staticClass:"ms-3",attrs:{name:t,node:e}})}))],2)]):s("div",{staticClass:"mb-2"},["reference"===e.name?s("span",[s("a",{staticClass:"text-success",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.loadRef(e.node)}}},[e._v(e._s(e.node))])]):s("span",[s("b",[e._v(e._s(e.name)+":")]),e._v(" "+e._s(e.node))])])])])}),u=[],l={name:"NodeTree",props:["name","node"],data(){return{isOpen:!1}},computed:{isFolder:function(){return Array.isArray(this.node)&&this.node.length>0}},methods:{toggle:function(){this.isFolder&&(this.isOpen=!this.isOpen)},loadRef:function(e){this.$root.$emit("changeTo",e)}}},d=l,p=s(1001),f=(0,p.Z)(d,a,u,!1,null,null,null),h=f.exports,v={components:{NodeTree:h},data(){return{entry:[],timezone:"",resourceTypes:[],selectedResourceType:null,selectedResourceTypeData:[],selectedResource:null,selectedResourceData:null}},mounted(){this.axios.get(window.intersystemsUrl+"Patient/"+window.intersystemsPatientId+"/$everything").then((e=>{this.entry=e.data.entry,this.entry.forEach((e=>{this.resourceTypes.includes(e.resource.resourceType)||this.resourceTypes.push(e.resource.resourceType)}))})),this.timezone=window.moment.tz.guess(),this.$root.$on("changeTo",(e=>{this.changeResource(e)}))},methods:{getResourceData(e){return this.entry.filter((t=>t.resource.resourceType===e))},expandResourceType(e){this.$refs.main.scrollIntoView(),this.closeResourceType(),this.selectedResourceType=e,this.selectedResourceTypeData=this._.orderBy(this.entry.filter((t=>t.resource.resourceType===e)),(e=>e.resource.meta.lastUpdated),["desc"])},closeResourceType(){this.$refs.main.scrollIntoView(),this.selectedResource=null,this.selectedResourceType=null,this.selectedResourceTypeData=[]},expandResource(e){this.$refs.main.scrollIntoView(),this.closeResourceType(),this.selectedResource=e},closeResource(){this.$refs.main.scrollIntoView(),this.selectedResource=null},changeResource(e){this.$refs.main.scrollIntoView();let t=e.substring(e.lastIndexOf("/")+1,e.length),s=e.substring(e.lastIndexOf("/"),0);this.selectedResourceType=s,this.selectedResourceTypeData=this._.orderBy(this.entry.filter((e=>e.resource.resourceType===s)),(e=>e.resource.meta.lastUpdated),["desc"]),this.selectedResource=this.selectedResourceTypeData.filter((e=>e.resource.id===t))[0]}},computed:{patient(){let e=this.entry.filter((e=>"Patient"===e.resource.resourceType));return e.length>0?e[0].resource:null}}},y=v,m=(0,p.Z)(y,i,c,!1,null,null,null),_=m.exports,b={name:"App",components:{MainComponent:_}},g=b,x=(0,p.Z)(g,n,o,!1,null,null,null),T=x.exports,R=s(6166),w=s.n(R),C=s(9483),O=s(9018),k=s.n(O),D=s(2196),$=s.n(D),j=s(150);s(44);window.moment=s(3189);const P=window.moment,I=s(8602),S=s(4003);P.extend(I),P.extend(S),r["default"].config.productionTip=!1,r["default"].use(C.Z,w()),r["default"].use(k(),{name:"custom",lodash:$()}),r["default"].use(j.XG7),r["default"].use(P),new r["default"]({render:e=>e(T)}).$mount("#fhir-visualizer")}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,r,n,o){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],o=e[l][2];for(var c=!0,a=0;a<r.length;a++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](r[a])}))?r.splice(a--,1):(c=!1,o<i&&(i=o));if(c){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],c=r[1],a=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in c)s.o(c,n)&&(s.m[n]=c[n]);if(a)var l=a(s)}for(t&&t(r);u<i.length;u++)o=i[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(l)},r=self["webpackChunkintersystems1"]=self["webpackChunkintersystems1"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(7116)}));r=s.O(r)})();
//# sourceMappingURL=app.135bf624.js.map